/*
  TODO: Might want to break this out into a file for radios and checkboxes. But this would repeat a lot of CSS
*/

input[type="checkbox"],
input[type="radio"] {
  margin-bottom: 0;
  position: absolute;
  top: 0;
  left: 0;
  opacity: 0;
  display: block;
  font-size: 1em;
  line-height: 1;
  cursor: pointer;
  pointer-events: none;
  box-sizing: border-box;
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
  transition: color var(--layout-transition-extra-fast);
}

input[type="checkbox"]+label,
input[type="radio"]+label {
  padding: 0;
  margin: 0;
  font-size: 1em;
  font-family: var(--theme-font-ui-name);
  font-weight: var(--theme-font-ui-weight);
  font-style: var(--theme-font-ui-style);
  color: rgb(var(--form-label));
  cursor: pointer;
  display: flex;
  flex-direction: row;
  justify-content: flex-start;
  align-items: flex-start;
  transition: transform var(--layout-transition-extra-fast), color var(--layout-transition-extra-fast);
}

input[type="checkbox"]:hover+label,
input[type="checkbox"]:focus+label,
input[type="radio"]:hover+label,
input[type="radio"]:focus+label {
  color: rgb(var(--form-label-hover));
}

input[type="checkbox"]:active+label,
input[type="radio"]:active+label {
  color: rgb(var(--form-label-focus-active));
}

input[type="checkbox"]:checked+label,
input[type="radio"]:checked+label {
  color: rgb(var(--form-label-checked));
}

input[type="checkbox"]:disabled+label,
input[type="checkbox"]:disabled:hover+label,
input[type="checkbox"]:disabled:focus+label,
input[type="radio"]:disabled+label,
input[type="radio"]:disabled:hover+label,
input[type="radio"]:disabled:focus+label {
  color: rgb(var(--form-label-disabled));
  cursor: default;
}

input[type="checkbox"]+label .label-icon,
input[type="radio"]+label .label-icon {
  background-color: rgb(var(--form-icon));
  margin-right: 1em;
  width: var(--form-thumb-size);
  height: var(--form-thumb-size);
  position: relative;
  top: 0.125em;
  display: block;
  flex-grow: 0;
  flex-shrink: 0;
  z-index: 1;
  box-shadow: none;
  transition: background-color var(--layout-transition-extra-fast), box-shadow var(--layout-transition-extra-fast);
}

input[type="checkbox"]+label .label-icon {
  border-radius: 0.25em;
}

input[type="radio"]+label .label-icon {
  border-radius: 50%;
}

input[type="checkbox"]:hover+label .label-icon,
input[type="checkbox"]:focus+label .label-icon,
input[type="radio"]:hover+label .label-icon,
input[type="radio"]:focus+label .label-icon {
  background-color: rgb(var(--form-icon-hover));
  box-shadow: var(--form-ring-hover);
}

input[type="checkbox"]:active+label .label-icon,
input[type="radio"]:active+label .label-icon {
  background-color: rgb(var(--form-icon-active));
  box-shadow: var(--form-ring-accent);
  transition: none;
}

input[type="checkbox"]:checked+label .label-icon,
input[type="radio"]:checked+label .label-icon {
  background-color: rgb(var(--form-icon-checked));
}

input[type="checkbox"]:checked:focus+label .label-icon,
input[type="checkbox"]:checked:active+label .label-icon,
input[type="radio"]:checked:focus+label .label-icon,
input[type="radio"]:checked:active+label .label-icon {
  box-shadow: var(--form-ring-accent);
}

input[type="checkbox"]:disabled+label .label-icon,
input[type="checkbox"]:disabled:hover+label .label-icon,
input[type="checkbox"]:disabled:focus+label .label-icon,
input[type="checkbox"]:checked:disabled+label .label-icon,
input[type="checkbox"]:checked:disabled:hover+label .label-icon,
input[type="checkbox"]:checked:disabled:focus+label .label-icon,
input[type="radio"]:disabled+label .label-icon,
input[type="radio"]:disabled:hover+label .label-icon,
input[type="radio"]:disabled:focus+label .label-icon,
input[type="radio"]:checked:disabled+label .label-icon,
input[type="radio"]:checked:disabled:hover+label .label-icon,
input[type="radio"]:checked:disabled:focus+label .label-icon {
  background-color: rgb(var(--form-icon-disabled));
  box-shadow: none;
}

input[type="checkbox"]+label .label-icon:before,
input[type="radio"]+label .label-icon:before {
  content: "";
  background-color: rgb(var(--form-icon-symbol));
  width: 100%;
  height: 100%;
  display: block;
  position: absolute;
  top: 0;
  left: 0;
  transform: scale(0.7);
  transform-origin: center;
  z-index: 2;
  transition: background-color var(--layout-transition-extra-fast), border-radius var(--layout-transition-extra-fast), transform var(--layout-transition-extra-fast);
}

input[type="checkbox"]+label .label-icon:before {
  border-radius: 0.1em;
}

input[type="radio"]+label .label-icon:before {
  border-radius: 50%;
}

input[type="checkbox"]:active+label .label-icon:before,
input[type="radio"]:active+label .label-icon:before {
  background-color: rgb(var(--form-icon-symbol-active));
  transition: none;
}

input[type="checkbox"]:checked+label .label-icon:before,
input[type="radio"]:checked+label .label-icon:before {
  background-color: rgb(var(--form-icon-symbol-active));
  border-radius: 50%;
}

input[type="checkbox"]:checked+label .label-icon:before {
  transform: scale(0);
}

input[type="radio"]:checked+label .label-icon:before {
  transform: scale(0.2);
}

input[type="checkbox"]:disabled+label .label-icon:before,
input[type="checkbox"]:disabled:hover+label .label-icon:before,
input[type="checkbox"]:disabled:focus+label .label-icon:before,
input[type="checkbox"]:disabled:active+label .label-icon:before,
input[type="checkbox"]:checked:disabled+label .label-icon:before,
input[type="checkbox"]:checked:disabled:hover+label .label-icon:before,
input[type="checkbox"]:checked:disabled:focus+label .label-icon:before,
input[type="checkbox"]:checked:disabled:active+label .label-icon:before,
input[type="radio"]:disabled+label .label-icon:before,
input[type="radio"]:disabled:hover+label .label-icon:before,
input[type="radio"]:disabled:focus+label .label-icon:before,
input[type="radio"]:disabled:active+label .label-icon:before,
input[type="radio"]:checked:disabled+label .label-icon:before,
input[type="radio"]:checked:disabled:hover+label .label-icon:before,
input[type="radio"]:checked:disabled:focus+label .label-icon:before,
input[type="radio"]:checked:disabled:active+label .label-icon:before {
  background-color: rgb(var(--form-icon-symbol-disabled));
}

input[type="checkbox"]+label .label-icon:after {
  content: "";
  background-color: rgb(var(--form-icon-symbol));
  width: 100%;
  height: 100%;
  display: block;
  position: absolute;
  top: 0;
  left: 0;
  transform: scale(0);
  transform-origin: center;
  z-index: 2;
  transition: transform var(--layout-transition-extra-fast);
  clip-path: polygon(7% 56%, 37% 86%, 95% 27%, 84% 16%, 37% 64%, 18% 45%);
}

input[type="checkbox"]:checked+label .label-icon:after {
  background-color: rgb(var(--form-icon-symbol-active));
  transform: scale(0.8);
}

input[type="checkbox"]:disabled+label .label-icon:after,
input[type="checkbox"]:disabled:hover+label .label-icon:after,
input[type="checkbox"]:disabled:focus+label .label-icon:after,
input[type="checkbox"]:disabled:active+label .label-icon:after,
input[type="checkbox"]:checked:disabled+label .label-icon:after,
input[type="checkbox"]:checked:disabled:hover+label .label-icon:after,
input[type="checkbox"]:checked:disabled:focus+label .label-icon:after,
input[type="checkbox"]:checked:disabled:active+label .label-icon:after {
  background-color: rgb(var(--form-icon-symbol-disabled));
}

.label-block {
  display: flex;
  flex-direction: column;
  flex-wrap: nowrap;
}

input[type="checkbox"]+label .label-block-item,
input[type="radio"]+label .label-block-item {
  color: rgb(var(--form-label));
  transition: color var(--layout-transition-extra-fast);
}

input[type="checkbox"]:hover+label .label-block-item,
input[type="checkbox"]:focus+label .label-block-item,
input[type="radio"]:hover+label .label-block-item,
input[type="radio"]:focus+label .label-block-item {
  color: rgb(var(--form-label-hover));
}

input[type="checkbox"]:active+label .label-block-item,
input[type="radio"]:active+label .label-block-item {
  color: rgb(var(--form-label-focus-active));
}

input[type="checkbox"]:checked+label .label-block-item,
input[type="radio"]:checked+label .label-block-item {
  color: rgb(var(--form-label-checked));
}

input[type="checkbox"]:disabled+label .label-block-item,
input[type="checkbox"]:disabled:hover+label .label-block-item,
input[type="checkbox"]:disabled:focus+label .label-block-item,
input[type="radio"]:disabled+label .label-block-item,
input[type="radio"]:disabled:hover+label .label-block-item,
input[type="radio"]:disabled:focus+label .label-block-item {
  color: rgb(var(--form-label-disabled));
  cursor: default;
}

input[type="checkbox"]+label .label-block-item.muted,
input[type="radio"]+label .label-block-item.muted {
  color: rgb(var(--utilities-muted));
  transition: color var(--layout-transition-extra-fast);
}

input[type="checkbox"]:hover+label .label-block-item.muted,
input[type="checkbox"]:focus+label .label-block-item.muted,
input[type="radio"]:hover+label .label-block-item.muted,
input[type="radio"]:focus+label .label-block-item.muted {
  color: rgb(var(--utilities-muted-hover));
}

input[type="checkbox"]:active+label .label-block-item.muted,
input[type="radio"]:active+label .label-block-item.muted {
  color: rgb(var(--utilities-muted-focus-active));
}

input[type="checkbox"]:checked+label .label-block-item.muted,
input[type="radio"]:checked+label .label-block-item.muted {
  color: rgb(var(--utilities-muted-checked));
}

input[type="checkbox"]:disabled+label .label-block-item.muted,
input[type="checkbox"]:disabled:hover+label .label-block-item.muted,
input[type="checkbox"]:disabled:focus+label .label-block-item.muted,
input[type="radio"]:disabled+label .label-block-item.muted,
input[type="radio"]:disabled:hover+label .label-block-item.muted,
input[type="radio"]:disabled:focus+label .label-block-item.muted {
  color: rgb(var(--utilities-muted-disabled));
  cursor: default;
}

.label-block-item:not(:last-child):not(:only-child) {
  margin-bottom: calc(var(--form-wrap-space) / 4);
}

input:disabled+label .label-block-item,
input:disabled:hover+label .label-block-item,
input:disabled:focus+label .label-block-item,
input[type="checkbox"]:disabled+label .label-block-item,
input[type="checkbox"]:disabled:hover+label .label-block-item,
input[type="checkbox"]:disabled:focus+label .label-block-item,
input[type="radio"]:disabled+label .label-block-item,
input[type="radio"]:disabled:hover+label .label-block-item,
input[type="radio"]:disabled:focus+label .label-block-item {
  color: rgb(var(--form-label-disabled));
  cursor: default;
}
